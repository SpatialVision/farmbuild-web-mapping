{"version":3,"file":"dist/farmbuild-webmapping.min.js","sources":["dist/farmbuild-webmapping.js"],"names":["angular","module","factory","farmdata","$log","$rootScope","farmdataConverter","webMappingSession","webMappingProjections","webMappingInteractions","webMappingMeasurement","webMappingPaddocks","webMappingOpenLayersHelper","info","session","webMapping","toGeoJsons","actions","paddocks","olHelper","measurement","load","find","save","geoJsons","farmData","create","on","name","listener","$on","version","window","farmbuild","webmapping","validations","_openLayerFeatureToGeoJson","olFeature","dataProjection","featureProjection","_isDefined","_geoJSONFormat","writeFeatureObject","_openLayerFeaturesToGeoJson","olFeatures","writeFeaturesObject","_geoJsonToOpenLayerFeature","feature","readFeature","_geoJsonToOpenLayerFeatures","features","readFeatures","isDefined","ol","format","featureToGeoJson","featuresToGeoJson","geoJsonToFeature","geoJsonToFeatures","webMappingConverter","_eraseAll","clipee","clippers","clipeeGeoJson","converter","forEach","clipper","clipperGeoJson","turf","erase","e","warn","_erase","clipped","cliperGeoJson","_intersect","olFeature1","olFeature2","intersection","feature1","feature2","intersect","_merge","properties","toMerge","Date","getTime","merge","eraseAll","_create","map","_init","addInteraction","drawInteraction","setActive","drawingStatus","_mode","$broadcast","event","_enable","mode","_disable","_finish","finishDrawing","_isDrawing","_discard","interaction","Draw","source","Vector","type","init","enable","disable","isDrawing","finish","discard","webMappingSelectInteraction","webMappingModifyInteraction","webMappingDrawInteraction","webMappingSnapInteraction","webMappingGeoProcessing","_destroy","_select","_modify","_snap","_draw","removeInteraction","destroy","undefined","_activeLayer","_activeLayerName","unBindWebMappingMeasureStart","unBindWebMappingMeasureEnd","unBindWebMappingDonutDrawEnd","unBindWebMappingBeforeDrawEnd","farmLayerGroup","activeLayerName","snappingDefaultStatus","initKeyboardInteraction","enableMultiSelect","_farmLayerGroup","_farmLayer","getLayers","item","_paddocksLayer","_map","_farmName","getSource","getFeatures","getProperties","_enableKeyboardShortcuts","_addEventListeners","data","_clip","push","_donutContainer","_addFeature","layer","newProperties","geometry","setProperties","addFeature","_clearSelections","_remove","deselect","removeFeature","error","featureToClip","farmLayers","paddockSource","farmSource","_clipFarm","_clipPaddocks","paddocksFeatures","farmFeatures","getGeometry","getExtent","Infinity","_transform","getType","temp","getGeometries","f","Feature","geom","Polygon","getCoordinates","merged","id","result","_selectedFeatures","_enableEditing","_disableEditing","_enableDrawing","_disableDrawing","clear","_finishDrawing","_discardDrawing","_disableSnapping","_isSnappingActive","getActive","_enableSnapping","onKeyDown","selectedFeatures","keyCode","preventDefault","stopPropagation","element","getTargetElement","tabIndex","addEventListener","editing","drawing","snapping","active","selections","select","modifyInteraction","Modify","multi","selectInteraction","selectConfig","getLength","getArray","layers","addCondition","events","condition","shiftKeyOnly","never","toggleCondition","width","style","Style","stroke","Stroke","color","Select","paddocksSource","snapInteraction","Snap","_areas","area","_area","_converter","_openlayersDefaultProjection","_googleProjection","areas","webMappingGoogleAddressSearch","webMappingTransformation","addControlsToOlMap","extent","_ZoomToExtentControl","control","ZoomToExtent","addControl","ScaleLine","defaults","centerNew","zoomNew","view","getView","setCenter","proj","transform","setZoom","fit","getSize","_exportGeometry","crs","_center","coordinates","_createPaddocksLayer","paddocksGeometry","wrapX","GeoJSON","title","_createFarmLayer","farmGeometry","fill","Fill","_createFarmLayers","Group","farm","_reload","paddockFeatures","addFeatures","_initGoogleAddressSearch","textInputElement","olmap","onPlaceChanged","latLng","fromGoogleLatLng","_updateZoomToExtent","getMap","removeControl","exportGeometry","createFarmLayers","farmLayer","paddocksLayer","reload","initGoogleAddressSearch","updateExtent","findByName","byName","findById","byId","toGeoJSON","types","paddockTypes","supported","crsSupported","proj4","defs","projection","loaded","featureForArea","p","idx","_featureForArea","areaUnit","_isEmpty","isEmpty","defaultConfigs","printUrl","sessionStorage","webMappingConfigs","JSON","stringify","update","_transformToGoogleLatLng","destinationProjection","transformed","google","maps","LatLng","_transformFromGoogleLatLng","lng","lat","_openLayersDefaultProjection","toGoogleLatLng","targetElementId","onPlaceChangedCallback","places","autocomplete","Autocomplete","document","getElementById","componentRestrictions","countryRestrict","addListener","_onPlaceChanged","place","getPlace","location","country","run"],"mappings":"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"}